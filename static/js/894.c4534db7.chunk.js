/*! For license information please see 894.c4534db7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfreepen=self.webpackChunkfreepen||[]).push([[894],{3426:function(e,t,a){var n=a(1413),r=a(2791),s=a(184);function l(e){return(0,s.jsxs)("button",(0,n.Z)((0,n.Z)({},e),{},{className:"flex cursor-pointer items-center justify-center gap-2 rounded py-2 px-4 ring-1 ring-slate-300 focus:ring-4 dark:ring-slate-700\n            ".concat("primary"===e.variant?"bg-primary-500 text-white hover:bg-primary-600":"bg-slate-50 text-slate-900 hover:bg-slate-100 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800","\n            ").concat(e.className),children:[e.icon&&e.icon,e.children]}))}t.Z=r.memo(l)},2922:function(e,t,a){a.d(t,{I:function(){return c},db:function(){return u},t:function(){return d}});var n=a(4702),r=a(9460),s=a(7799),l=a(276),i={apiKey:"AIzaSyBT-anIY9tZ7VQsqewvrLkjYBwSnRBUxOM",authDomain:"free-pen-blogs.firebaseapp.com",projectId:"free-pen-blogs",storageBucket:"free-pen-blogs.appspot.com",messagingSenderId:"395027834486",appId:"1:395027834486:web:ea9771bd119f5353372157",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBT-anIY9tZ7VQsqewvrLkjYBwSnRBUxOM",REACT_APP_APP_ID:"1:395027834486:web:ea9771bd119f5353372157",REACT_APP_AUTH_DOMAIN:"free-pen-blogs.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"395027834486",REACT_APP_PROJECT_ID:"free-pen-blogs",REACT_APP_STORAGE_BUCKET:"free-pen-blogs.appspot.com"}.REACT_APP_MEASUREMENT_ID},o=(0,n.ZF)(i),c=(0,r.v0)(o),u=(0,s.ad)(o),d=(0,l.cF)(o)},1894:function(e,t,a){a.r(t),a.d(t,{ConfirmEmail:function(){return A},HANDLE_LOGOUT:function(){return y},default:function(){return E}});var n=a(1413),r=a(4165),s=a(5861),l=a(9439),i=a(2791),o=a(7689),c=a(1087),u=a(3426),d=a(3728),f=a(6856),p=a(9460),m=a(7799),x=a(2922),g=a(184);function h(e){var t=e.element||"input";return(0,g.jsxs)("div",{className:"relative ".concat(e.flexgrow&&"flex-auto"),children:[(0,g.jsx)(t,(0,n.Z)((0,n.Z)({autoComplete:"on",required:void 0===e.required&&!0},e),{},{ref:e.customref,className:"w-full p-2 pl-10 bg-slate-50 rounded dark:bg-slate-800 ring-2 ring-transparent transition duration-300\n\t\t\t\t\tfocus:ring-primary-400 [&:not(:focus)]:[&:not(:placeholder-shown)]:invalid:ring-rose-600/50 [&:not(:focus)]:valid:ring-green-600/50 \n\t\t\t\t".concat(e.flexgrow&&"h-full"," ").concat(e.className)})),(0,g.jsx)("span",{className:"pointer-none absolute inset-y-0 left-3 w-4 flex justify-center items-center pointer-events-none opacity-50 ".concat(e.icontop&&"top-3 bottom-auto"),children:null===e||void 0===e?void 0:e.icon})]})}var v=i.memo(h),b=a(71),j=a(8820),N=a(276);function w(e){var t=e.type,a=(0,i.useState)(""),h=(0,l.Z)(a,2),b=h[0],w=h[1],A=(0,i.useState)(""),y=(0,l.Z)(A,2),E=y[0],_=y[1],Z=(0,i.useState)({first:"",last:""}),k=(0,l.Z)(Z,2),C=k[0],T=k[1],S=(0,o.s0)(),I=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s,l,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,(0,p.Xb)(x.I,b,E);case 4:return n=e.sent,e.next=7,(0,N.Jt)((0,N.iH)(x.t,"users/default.png"));case 7:return s=e.sent,l=(0,m.JU)(x.db,"users",null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.uid),e.next=11,(0,m.QT)(l);case 11:if(e.sent.exists()){e.next=22;break}return i={name:"".concat(C.first," ").concat(C.last),email:n.user.email||"",photoURL:n.user.photoURL||s,subTitle:""},e.prev=14,e.next=17,(0,m.pl)(l,i);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.error(e.t0);case 22:return e.prev=22,e.next=25,(0,p.w$)(n.user);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(22),console.error(e.t1);case 30:S("/EmailVerifying"),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(1),console.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[1,33],[14,19],[22,27]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsx)("main",{className:"h-full flex justify-center items-center",children:(0,g.jsxs)("section",{className:"w-[500px] max-w-full bg-white rounded-lg shadow ring-2 ring-slate-300 dark:bg-slate-900 dark:ring-slate-700",children:[(0,g.jsxs)("header",{className:"grid grid-cols-2 border-b-px bg-slate-300 dark:bg-slate-700 border-b-slate-300 dark:border-b-slate-700",children:[(0,g.jsx)(c.rU,{to:"/register",className:"p-3 text-center rounded-t-lg ".concat("register"===t&&"bg-white dark:bg-slate-900"),children:"Register"}),(0,g.jsx)(c.rU,{to:"/login",className:"p-3 text-center rounded-t-lg ".concat("login"===t&&"bg-white dark:bg-slate-900"),children:"Login"})]}),(0,g.jsxs)("article",{className:"py-6 px-3 flex flex-col gap-4 [&>*]:w-full",children:[(0,g.jsx)(u.Z,{className:"w-full",icon:(0,g.jsx)(d.JM8,{}),onClick:function(){return function(){var e=new p.hJ;(0,p.rh)(x.I,e).then((function(e){var t,a=(0,m.JU)(x.db,"users",null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.uid);(0,m.QT)(a).then((function(t){if(!t.exists()){var n={name:e.user.displayName||"",email:e.user.email||"",photoURL:e.user.photoURL||"",subTitle:""};(0,m.pl)(a,n).then((function(){S("/")}))}}))})).catch((function(e){}))}()},children:"Continue with Google"}),(0,g.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,g.jsx)("hr",{className:"flex-auto border-slate-400/50"}),(0,g.jsx)("span",{children:"OR"}),(0,g.jsx)("hr",{className:"flex-auto border-slate-400/50"})]}),"login"===t&&(0,g.jsxs)("form",{className:"flex flex-col gap-4 [&>*]:w-full",autoComplete:"off",onSubmit:function(e){e.preventDefault(),(0,p.e5)(x.I,b,E).then((function(e){e.user.emailVerified?S("/"):S("/EmailVerifying")})).catch((function(e){}))},children:[(0,g.jsx)(v,{required:!0,pattern:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$",title:"Someone@example.com",icon:(0,g.jsx)(f.hoL,{}),type:"mail",name:"email",value:b,onChange:function(e){return w(e.target.value)},placeholder:"Email"}),(0,g.jsx)(v,{required:!0,pattern:"[A-Za-z0-9.@#*&^%$()-_+]{8,}",title:"at least 8 characters",icon:(0,g.jsx)(f.gEQ,{}),type:"password",name:"password",value:E,onChange:function(e){return _(e.target.value)},placeholder:"Password"}),(0,g.jsx)(u.Z,{variant:"primary",className:"w-full",children:"Login"})]}),"register"===t&&(0,g.jsxs)("form",{className:"flex flex-col gap-4 [&>*]:w-full",autoComplete:"off",onSubmit:I,children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsx)(v,{required:!0,pattern:"[A-Za-z]{2,15}",icon:(0,g.jsx)(j.nf1,{}),type:"text",name:"fName",value:C.first,onChange:function(e){return T((function(t){return(0,n.Z)((0,n.Z)({},t),{},{first:e.target.value})}))},placeholder:"First Name"}),(0,g.jsx)(v,{required:!0,pattern:"[A-Za-z]{2,15}",icon:(0,g.jsx)(j.nf1,{}),type:"text",name:"lName",value:C.last,onChange:function(e){return T((function(t){return(0,n.Z)((0,n.Z)({},t),{},{last:e.target.value})}))},placeholder:"Last Name"})]}),(0,g.jsx)(v,{required:!0,pattern:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$",title:"Someone@example.com",icon:(0,g.jsx)(f.hoL,{}),type:"mail",name:"email",value:b,onChange:function(e){return w(e.target.value)},placeholder:"Email"}),(0,g.jsx)(v,{required:!0,pattern:"[A-Za-z0-9.@#*&^%$()-_+]{8,}",title:"at least 8 characters",icon:(0,g.jsx)(f.gEQ,{}),type:"password",name:"password",value:E,onChange:function(e){return _(e.target.value)},placeholder:"Password"}),(0,g.jsx)(u.Z,{variant:"primary",className:"w-full",children:"Create account"})]})]})]})})}function A(){var e=(0,i.useState)((0,g.jsx)(g.Fragment,{children:"Loading"})),t=(0,l.Z)(e,2),a=t[0],n=t[1],r=(0,o.s0)();return(0,i.useEffect)((function(){(0,p.Aj)(x.I,(function(e){e?!1===(null===e||void 0===e?void 0:e.emailVerified)?n((0,g.jsx)("main",{className:"h-full flex justify-center items-center",children:(0,g.jsxs)("section",{className:"w-[500px] max-w-full bg-white rounded-lg shadow ring-2 ring-slate-300 dark:bg-slate-900 dark:ring-slate-700 p-4 flex flex-col gap-4",children:[(0,g.jsx)(b.q78,{className:"text-7xl text-primary-500"}),(0,g.jsx)("h2",{className:"text-3xl font-semibold",children:"Verify your email"}),(0,g.jsx)("p",{className:"opacity-80",children:"We have sand an email contains a link, follow the link to verify your email."}),(0,g.jsx)("p",{className:"opacity-80",children:"Then refrish the page please."}),(0,g.jsxs)("p",{className:"opacity-80",children:[(0,g.jsx)("span",{className:"text-bold",children:"NOTE:"})," If you can't find it. Please check the spam."]}),(0,g.jsx)("div",{className:"flex gap-4",children:(0,g.jsx)(u.Z,{onClick:function(){return r("/")},children:"Tell me later"})})]})})):e.emailVerified?n((0,g.jsx)(o.Fg,{to:"/"})):console.log("SOMETHING IS WRONG ==> Auth.tsx > ConfirmEmail() > else"):n((0,g.jsx)(o.Fg,{to:"/login"}))}))}),[]),(0,g.jsx)(g.Fragment,{children:a})}function y(){(0,p.w7)(x.I)}var E=i.memo(w)}}]);
//# sourceMappingURL=894.c4534db7.chunk.js.map