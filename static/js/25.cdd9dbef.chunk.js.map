{"version":3,"file":"static/js/25.cdd9dbef.chunk.js","mappings":"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","sources":["components/Modal.tsx","Context.tsx","components/Button.tsx","firebase-config.tsx","HOCs/CheckAuthentication.tsx","components/UploadImage.tsx","pages/NewBlog.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { AiOutlineClose } from \"react-icons/ai\";\r\nimport Button from \"./Button\";\r\n\r\nfunction Modal({\r\n\ttitle,\r\n\tchildren,\r\n\tsetModal,\r\n}: {\r\n\ttitle: string;\r\n\tchildren: JSX.Element;\r\n\tsetModal: React.Dispatch<\r\n\t\tReact.SetStateAction<{\r\n\t\t\tisOpen: boolean;\r\n\t\t\ttitle: string;\r\n\t\t\tchildren: JSX.Element;\r\n\t\t}>\r\n\t>;\r\n}) {\r\n\tconst parent = document.getElementById(\"portal\");\r\n\r\n\tif (!parent) return <></>;\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetModal({ isOpen: false, title: \"\", children: <></> });\r\n\t};\r\n\r\n\treturn createPortal(\r\n\t\t<div\r\n\t\t\tclassName=\"portal fixed inset-0 flex items-center justify-center p-4 backdrop-blur-xl\"\r\n\t\t\tstyle={{ zIndex: 5000 }}\r\n\t\t\tonClick={closeModal}\r\n\t\t>\r\n\t\t\t<div className=\"w-80 max-w-full overflow-hidden rounded bg-slate-100 ring-2 ring-slate-400/50 dark:bg-slate-800 dark:text-white\">\r\n\t\t\t\t<header className=\"rounded-inherite flex items-center justify-between border-b border-dashed border-slate-400/50 bg-slate-50 p-4 dark:bg-slate-900\">\r\n\t\t\t\t\t<h1 className=\"text-2xl font-bold\">{title}</h1>\r\n\t\t\t\t\t<AiOutlineClose\r\n\t\t\t\t\t\tonClick={closeModal}\r\n\t\t\t\t\t\tclassName=\"cursor-pointer\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</header>\r\n\t\t\t\t<section className=\"overflow-auto p-4\">{children}</section>\r\n\t\t\t\t<footer className=\"rounded-inherite border-b border-slate-400/50 bg-slate-50 p-4 dark:bg-slate-900\">\r\n\t\t\t\t\t<Button onClick={closeModal} variant=\"primary\">\r\n\t\t\t\t\t\tOK\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t</div>,\r\n\t\tparent\r\n\t);\r\n}\r\n\r\nexport default Modal;\r\n","import React, { createContext, useState } from \"react\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { auth, db } from \"./firebase-config\";\r\nimport { NotificationType, UserInfoProps } from \"./TYPES\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport Modal from \"./components/Modal\";\r\n\r\ntype ContextProps = {\r\n\tuserInfo: UserInfoProps | null;\r\n\tnotifications: (NotificationType | undefined)[];\r\n\tsetNotifications: React.Dispatch<\r\n\t\tReact.SetStateAction<(NotificationType | undefined)[]>\r\n\t>;\r\n\tnewError: (error: any) => void;\r\n\topenModal: (title: string, children: JSX.Element) => void;\r\n};\r\n\r\nexport const AppContext = createContext<ContextProps>({\r\n\tuserInfo: null,\r\n\tnotifications: [],\r\n\tsetNotifications: () => null,\r\n\tnewError: (error: any) => null,\r\n\topenModal: (title: string, children: JSX.Element) => null,\r\n});\r\n\r\ntype Props = {\r\n\tchildren: React.ReactNode;\r\n};\r\n\r\nfunction Context({ children }: Props) {\r\n\tconst [userInfo, setUserInfo] = useState<UserInfoProps | null>(null);\r\n\tconst [modal, setModal] = useState({\r\n\t\tisOpen: false,\r\n\t\ttitle: \"\",\r\n\t\tchildren: <></>,\r\n\t});\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconsole.log(`Modal is ${modal.isOpen ? \"open\" : \"closed\"}`)\r\n\t}, [modal.isOpen]);\r\n\r\n\tonAuthStateChanged(auth, async () => {\r\n\t\tif (auth?.currentUser?.uid) {\r\n\t\t\tconst docRef = doc(db, \"users\", auth.currentUser.uid);\r\n\t\t\tconst snapShot = await getDoc(docRef);\r\n\t\t\tsetUserInfo(() => ({ ...(snapShot.data() as UserInfoProps) }));\r\n\t\t}\r\n\t});\r\n\r\n\tconst newError = (error: any) => {\r\n\t\tconsole.error(error);\r\n\t};\r\n\r\n\t// MODAL:\r\n\tconst openModal = (title: string = \"Dialog\", children: JSX.Element) => {\r\n\t\tsetModal({ isOpen: true, title, children });\r\n\t};\r\n\r\n\t// TODO: initialize Notification env\r\n\tconst [notifications, setNotifications] = useState<\r\n\t\t(NotificationType | undefined)[]\r\n\t>([]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppContext.Provider\r\n\t\t\t\tvalue={{\r\n\t\t\t\t\tuserInfo,\r\n\t\t\t\t\tnotifications,\r\n\t\t\t\t\tsetNotifications,\r\n\t\t\t\t\tnewError,\r\n\t\t\t\t\topenModal,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</AppContext.Provider>\r\n\t\t\t{/* {modal.isOpen && <Modal title={modal.title} children={modal.children} setModal={ setModal} />} */}\r\n\t\t\t{modal.isOpen ? (\r\n\t\t\t\t<Modal title={modal.title} setModal={setModal}>\r\n\t\t\t\t\t{modal.children}\r\n\t\t\t\t</Modal>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default React.memo(Context);\r\n","import React from \"react\";\r\n\r\nfunction Button(\r\n\tprops: JSX.IntrinsicAttributes &\r\n\t\tReact.ClassAttributes<HTMLButtonElement> &\r\n\t\tReact.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n\t\t\tvariant?: \"primary\";\r\n\t\t\ticon?: React.ReactElement;\r\n\t\t}\r\n) {\r\n\treturn (\r\n\t\t<button\r\n\t\t\t{...props}\r\n\t\t\tclassName={`flex cursor-pointer items-center justify-center gap-2 rounded py-2 px-4 ring-1 ring-slate-300 focus:ring-4 dark:ring-slate-700\r\n            ${\r\n\t\t\t\t\tprops.variant === \"primary\"\r\n\t\t\t\t\t\t? `bg-primary-500 text-white hover:bg-primary-600`\r\n\t\t\t\t\t\t: `bg-slate-50 text-slate-900 hover:bg-slate-100 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800`\r\n\t\t\t\t}\r\n            ${props.className}`}\r\n\t\t>\r\n\t\t\t{props.icon && props.icon}\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport default React.memo(Button);\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n\tappId: process.env.REACT_APP_APP_ID,\r\n\tmeasurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app)\r\nexport const db = getFirestore(app)\r\nexport const storage = getStorage(app)","import React, { useState } from \"react\";\r\nimport Button from \"../components/Button\";\r\nimport { auth } from \"../firebase-config\";\r\nimport { AiOutlineLogin, AiOutlineUserAdd } from \"react-icons/ai\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ntype Props = { children: React.ReactNode };\r\n\r\nfunction CheckAuthentication({ children }: Props): JSX.Element {\r\n\tconst [isAuth, setIsAuth] = useState<Boolean | \"loading\">(\"loading\");\r\n\tconst navigate = useNavigate();\r\n\r\n\tonAuthStateChanged(auth, (user) => {\r\n\t\tsetIsAuth(() => Boolean(user));\r\n\t});\r\n\r\n\tif (isAuth) {\r\n\t\treturn <>{children}</>;\r\n\t} else if (isAuth === \"loading\") {\r\n\t\treturn <h1>Loading...</h1>;\r\n\t} else\r\n\t\t<main className=\"container flex h-full flex-col items-center justify-center space-y-4\">\r\n\t\t\t<h2 className=\"text-9xl font-bold\">\r\n\t\t\t\t<span className=\"inline-block -rotate-12 text-primary-400\">4</span>\r\n\t\t\t\t<span className=\"inline-block text-rose-500\">0</span>\r\n\t\t\t\t<span className=\"inline-block rotate-12 text-primary-400\">4</span>\r\n\t\t\t</h2>\r\n\t\t\t<h3 className=\"text-3xl\">You have login to access this page</h3>\r\n\t\t\t<div className=\"flex gap-4\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ticon={<AiOutlineUserAdd />}\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\tonClick={() => navigate(\"/register\")}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ticon={<AiOutlineLogin />}\r\n\t\t\t\t\tonClick={() => navigate(\"/login\")}\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</main>;\r\n\r\n\treturn <></>;\r\n}\r\n\r\nexport default React.memo(CheckAuthentication);\r\n","import {\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseContext,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tmemo,\r\n} from \"react\";\r\nimport { AppContext } from \"../Context\";\r\nimport { BiImageAdd } from \"react-icons/bi\";\r\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\r\nimport { storage } from \"../firebase-config\";\r\nimport Button from \"./Button\";\r\n\r\nenum ImageStateLevel {\r\n\twaitImage = \"Upload thumbnail image\",\r\n\tuploading = \"Uploading...\",\r\n\terror = \"Error\",\r\n\tgotURL = \"getUrl\",\r\n}\r\n\r\ntype ImageStateProps = {\r\n\tstate: ImageStateLevel;\r\n\tprogress: number;\r\n\turl: string;\r\n\tdetails: string;\r\n};\r\n\r\nfunction UploadImage({\r\n\tid,\r\n\tsetImageLink,\r\n}: {\r\n\tid: string;\r\n\tsetImageLink: Dispatch<SetStateAction<string>>;\r\n}) {\r\n\tconst [imageState, setImageState] = useState<ImageStateProps>({\r\n\t\tstate: ImageStateLevel.waitImage,\r\n\t\tprogress: 0,\r\n\t\turl: \"\",\r\n\t\tdetails: \"\",\r\n\t});\r\n\tconst imageRef = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n\r\n\tconst { newError } = useContext(AppContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetImageLink(() => imageState.url);\r\n\t}, [imageState.url]);\r\n\r\n\tasync function uploadImage() {\r\n\t\tconst pathRef = ref(storage, `blogsThumbnails/${id}`);\r\n\r\n\t\tif (!imageRef.current.files) return;\r\n\r\n\t\tconst uploadTask = await uploadBytesResumable(\r\n\t\t\tpathRef,\r\n\t\t\timageRef?.current?.files[0]\r\n\t\t);\r\n\r\n\t\tuploadTask.task.on(\r\n\t\t\t\"state_changed\",\r\n\t\t\t(snapshoot) => {\r\n\t\t\t\tconst progress =\r\n\t\t\t\t\t(snapshoot.bytesTransferred / snapshoot.totalBytes) * 100;\r\n\r\n\t\t\t\tsetImageState((v) => ({\r\n\t\t\t\t\t...v,\r\n\t\t\t\t\tstate: ImageStateLevel.uploading,\r\n\t\t\t\t\tprogress,\r\n\t\t\t\t\turl: \"\",\r\n\t\t\t\t\tdetails: \"\",\r\n\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tsetImageState((v) => ({\r\n\t\t\t\t\t...v,\r\n\t\t\t\t\tstate: ImageStateLevel.error,\r\n\t\t\t\t\turl: \"\",\r\n\t\t\t\t\tdetails: err.message,\r\n\t\t\t\t}));\r\n\t\t\t\tnewError(err || { message: \"Error while uploading image\" });\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tgetDownloadURL(pathRef)\r\n\t\t\t\t\t.then((url) => {\r\n\t\t\t\t\t\tsetImageState((v) => ({\r\n\t\t\t\t\t\t\t...v,\r\n\t\t\t\t\t\t\tstate: ImageStateLevel.gotURL,\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\tdetails: \"Uploaded\",\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnewError(err || { message: \"Error while getting image url\" });\r\n\t\t\t\t\t\tsetImageState((v) => ({\r\n\t\t\t\t\t\t\t...v,\r\n\t\t\t\t\t\t\tstate: ImageStateLevel.error,\r\n\t\t\t\t\t\t\turl: \"\",\r\n\t\t\t\t\t\t\tdetails: err.message,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{imageState.state === ImageStateLevel.waitImage ? (\r\n\t\t\t\t<Button className=\"relative w-full\">\r\n\t\t\t\t\t<span className=\"pointer-events-none flex items-center gap-3\">\r\n\t\t\t\t\t\t<BiImageAdd className=\"text-lg text-primary-500\" /> Upload\r\n\t\t\t\t\t\tThumbnail Image\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tref={imageRef}\r\n\t\t\t\t\t\tclassName=\"absolute inset-0 h-full w-full cursor-pointer opacity-0\"\r\n\t\t\t\t\t\tonChange={uploadImage}\r\n\t\t\t\t\t\t// onChange={(e) => setImage(e.target.files![0])}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Button>\r\n\t\t\t) : imageState.state === ImageStateLevel.uploading ? (\r\n\t\t\t\t<div className=\"bg-slage-400/50 relative flex h-12 items-center justify-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"absolute left-0 h-full bg-primary-500\"\r\n\t\t\t\t\t\tstyle={{ width: `${imageState.progress}%` }}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t\t<span>Uploading... {imageState.progress}%</span>\r\n\t\t\t\t</div>\r\n\t\t\t) : imageState.state === ImageStateLevel.gotURL ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={imageState.url}\r\n\t\t\t\t\t\tclassName=\"object-fit aspect-video w-full rounded object-center ring-2 ring-primary-500\"\r\n\t\t\t\t\t\talt=\"Thumbnail Image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button className=\"relative w-full\">\r\n\t\t\t\t\t\t<span className=\"pointer-events-none flex items-center gap-3\">\r\n\t\t\t\t\t\t\t<BiImageAdd className=\"text-lg text-primary-500\" /> Upload\r\n\t\t\t\t\t\t\tanother Image\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tref={imageRef}\r\n\t\t\t\t\t\t\tclassName=\"absolute inset-0 h-full w-full cursor-pointer opacity-0\"\r\n\t\t\t\t\t\t\tonChange={uploadImage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t) : imageState.state === ImageStateLevel.error ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className=\"font-bold\">Error:</span>\r\n\t\t\t\t\t\t{imageState.details}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button className=\"relative w-full\">\r\n\t\t\t\t\t\t<span className=\"pointer-events-none flex items-center gap-3\">\r\n\t\t\t\t\t\t\t<BiImageAdd className=\"text-lg text-primary-500\" /> Upload\r\n\t\t\t\t\t\t\tanother Image\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tref={imageRef}\r\n\t\t\t\t\t\t\tclassName=\"absolute inset-0 h-full w-full cursor-pointer opacity-0\"\r\n\t\t\t\t\t\t\tonChange={uploadImage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<></>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default memo(UploadImage);\r\n","import React, { useState, memo, useContext, useRef } from \"react\";\r\nimport CheckAuthentication from \"./../HOCs/CheckAuthentication\";\r\nimport Button from \"../components/Button\";\r\n\r\nimport UploadImage from \"../components/UploadImage\";\r\nimport { auth, db } from \"../firebase-config\";\r\nimport { doc, setDoc, Timestamp } from \"firebase/firestore\";\r\nimport { Blog } from \"../TYPES\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AppContext } from \"../Context\";\r\n\r\nfunction NewBlog() {\r\n\tconst [imageLink, setImageLink] = useState(\"\");\r\n\tconst title = useRef() as React.MutableRefObject<HTMLTextAreaElement>;\r\n\tconst body = useRef() as React.MutableRefObject<HTMLTextAreaElement>;\r\n\tconst navigate = useNavigate();\r\n\tconst { newError, openModal } = useContext(AppContext);\r\n\r\n\tconst id = `${Math.random().toString(32).substring(2, 12)}`;\r\n\r\n\tReact.useEffect(() => { \r\n\t\topenModal(\"New Blog\", <p>Create a new blog</p>);\r\n\t}, [])\r\n\r\n\tconst handleSubmit = async (e: React.FormEvent) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (!imageLink) {\r\n\t\t\topenModal(\r\n\t\t\t\t\"Image is required\",\r\n\t\t\t\t<p className=\"text-gray-500\">\r\n\t\t\t\t\tYou must upload an image for your blog\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!title.current.value || !body.current.value) {\r\n\t\t\topenModal(\r\n\t\t\t\t\"Title and text are required\",\r\n\t\t\t\t<p className=\"text-gray-500\">\r\n\t\t\t\t\tYou must write a title and the article body\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst blog: Blog = {\r\n\t\t\tid,\r\n\t\t\ttitle: title.current.value.toString(),\r\n\t\t\tbody: body.current.value.toString(),\r\n\t\t\timage: imageLink,\r\n\t\t\tauthorId: auth.currentUser?.uid,\r\n\t\t\tblogInfo: {\r\n\t\t\t\tcreatedAt: Timestamp.fromDate(new Date()),\r\n\t\t\t\treadsCount: 0,\r\n\t\t\t\tlikesCount: 0,\r\n\t\t\t\tsharesCount: 0,\r\n\t\t\t\tcommentsCount: 0,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst docRef = doc(db, \"blogs\", id);\r\n\t\t\tawait setDoc(docRef, blog);\r\n\r\n\t\t\tnavigate(`/blog/${id}`);\r\n\t\t\t// notification\r\n\t\t} catch (error) {\r\n\t\t\tnewError(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<CheckAuthentication>\r\n\t\t\t<main className=\"flex min-h-full\">\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName=\"container flex min-h-full flex-auto flex-col space-y-2 py-4\"\r\n\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Title\"\r\n\t\t\t\t\t\tref={title}\r\n\t\t\t\t\t\tclassName=\"min-h-40 h-[calc(1em+2rem)] max-h-[calc(2em+2rem)] w-full resize-none overflow-auto rounded border border-dashed border-slate-400/50 bg-transparent p-4 text-center text-5xl font-bold focus:ring-0 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-400/50 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-primary-500\"\r\n\t\t\t\t\t\tonInput={(element) => {\r\n\t\t\t\t\t\t\tlet lineHeight = 16 * 3 // fontSize * lineHeight\r\n\t\t\t\t\t\t\tvar height = element.currentTarget.scrollHeight; // get the height of the text area\r\n\t\t\t\t\t\t\telement.currentTarget.style.height = lineHeight + \"px\"; // set the height to 3 lines of text\r\n\t\t\t\t\t\t\tvar numberOfLines = Math.floor(height / lineHeight);\r\n\t\t\t\t\t\t\telement.currentTarget.style.height = `${\r\n\t\t\t\t\t\t\t\tnumberOfLines * lineHeight + 32 // add 16 + 16px for padding top and bottom\r\n\t\t\t\t\t\t\t}px`;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></textarea>\r\n\r\n\t\t\t\t\t<UploadImage id={id} setImageLink={setImageLink} />\r\n\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tplaceholder=\"Write here\"\r\n\t\t\t\t\t\tref={body}\r\n\t\t\t\t\t\tclassName=\"h-auto min-h-[40vh] w-full flex-auto resize-none rounded border border-dashed border-slate-400/50 bg-transparent p-4 text-xl focus:ring-0 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-slate-400/50 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-primary-500\"\r\n\t\t\t\t\t\tonInput={(el) => {\r\n\t\t\t\t\t\t\tel.currentTarget.style.height = \"auto\";\r\n\t\t\t\t\t\t\tel.currentTarget.style.height = `${el.currentTarget.scrollHeight}px`;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<Button variant=\"primary\" className=\"w-full\" type=\"submit\">\r\n\t\t\t\t\t\tPublish the blog\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</form>\r\n\t\t\t</main>\r\n\t\t</CheckAuthentication>\r\n\t);\r\n}\r\n\r\nexport default memo(NewBlog);\r\n"],"names":["title","children","setModal","parent","document","getElementById","closeModal","isOpen","createPortal","className","style","zIndex","onClick","Button","variant","AppContext","createContext","userInfo","notifications","setNotifications","newError","error","openModal","Context","useState","setUserInfo","modal","React","console","log","onAuthStateChanged","auth","uid","docRef","doc","db","getDoc","snapShot","data","Provider","value","props","icon","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","REACT_APP_MEASUREMENT_ID","app","initializeApp","getAuth","getFirestore","storage","getStorage","CheckAuthentication","isAuth","setIsAuth","useNavigate","user","Boolean","ImageStateLevel","UploadImage","id","setImageLink","state","waitImage","progress","url","details","imageState","setImageState","imageRef","useRef","useContext","uploadImage","pathRef","ref","current","files","uploadBytesResumable","task","on","snapshoot","bytesTransferred","totalBytes","v","uploading","err","message","getDownloadURL","then","gotURL","catch","useEffect","type","accept","onChange","width","src","alt","memo","NewBlog","imageLink","body","navigate","Math","random","toString","substring","handleSubmit","e","preventDefault","blog","image","authorId","blogInfo","createdAt","Timestamp","Date","readsCount","likesCount","sharesCount","commentsCount","setDoc","onSubmit","required","placeholder","onInput","element","height","currentTarget","scrollHeight","lineHeight","numberOfLines","floor","el"],"sourceRoot":""}